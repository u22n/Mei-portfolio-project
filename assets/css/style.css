/*
  Palette
  egg-blue: #eaf6f4
  heading: #111827
  text: #374151

  Fonts: DM Serif Display (headings), Poppins (body)
*/

@import url('https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Poppins:wght@300;400;600;700&display=swap');

:root{
  --egg-blue: #cfeef6;
  --heading: #111827;
  --accent: #2b6cb0;
  /* darker default body text so content reads stronger against white areas */
  --text: #0f1724;
}

/* Dark theme vars */
:root.dark{
  --egg-blue: #071427; /* body bg in dark mode */
  --heading: #e6f3f7;
  --accent: #1d6d8a;
  /* slightly darker than before so text isn't washed-out on dark pages */
  --text: #9fb7c1;
}

/* Global styles */
html,body{
  height:100%;
}
body{
  font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  background-color: var(--egg-blue);
  color: var(--text);
}

/* Ensure common content elements inherit the variable-driven text color */
p, label, .card-text, li, a, .lead{
  color: var(--text);
}

h1,h2,h3,h4{
  font-family: 'DM Serif Display', serif;
  color: var(--heading);
}

/* Sections background overrides */
#about, #portfolio, #contact{
  background-color: #ffffff;
}

/* In dark mode, make the main content sections follow the dark page tone
   so the site feels consistently dark (not just the page edges). */
:root.dark #about, .dark #about,
:root.dark #portfolio, .dark #portfolio,
:root.dark #contact, .dark #contact{
  background-color: var(--egg-blue);
}

/* Hero / header background image and spacing */
#hero{
  background-image: url("../images/background.webp");
  background-size: cover;
  background-position: center center;
  padding-top: 5rem;
  padding-bottom: 5rem;
  color: var(--heading);
  text-shadow: none;
}

/* Make hero, about and contact headings use accent blue */
#hero h1, #hero h2,
#about .display-5,
#contact .display-5 {
  color: var(--accent);
}

/* Theme toggle button */
.theme-toggle{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:44px;
  height:36px;
  padding:6px;
  border-radius:6px;
}
.theme-toggle svg{transition: transform .35s ease, opacity .25s ease}
.theme-toggle .sun{transform: rotate(0deg); opacity:1}
.theme-toggle .moon{transform: rotate(-20deg); opacity:0}
:root.dark .theme-toggle .sun{transform: rotate(20deg); opacity:0}
:root.dark .theme-toggle .moon{transform: rotate(0deg); opacity:1}

/* Slight button transition */
.btn-custom{transition: background-color .2s ease, border-color .2s ease}

/* Dark-mode specific control/card styling for better contrast

   Notes:
   - Use both `.dark` (applied to `html` or `body`) and `:root.dark` selectors
     so rules apply regardless of whether the JS toggles the class on <html>
     or another root element.
   - Make box backgrounds visibly darker (dark-gray overlays) so the
     white form placeholders and labels remain readable against them.
*/

/* cards, modals: darker, slightly translucent gray */
:root.dark .card, .dark .card,
:root.dark .card-body, .dark .card-body,
:root.dark .modal-content, .dark .modal-content{
  background-color: rgba(0,0,0,0.45);
  color: var(--text);
  border-color: rgba(255,255,255,0.08);
}

:root.dark .card .card-title, .dark .card .card-title{ color: var(--accent) }

/* form controls: darkened but slightly lighter than card surface */
:root.dark .form-control, .dark .form-control,
:root.dark .form-select, .dark .form-select,
:root.dark textarea.form-control, .dark textarea.form-control{
  background-color: rgba(0,0,0,0.35);
  color: var(--heading);
  border: 1px solid rgba(255,255,255,0.08);
}

/* placeholders need to be readable on darker form backgrounds */
:root.dark .form-control::placeholder, .dark .form-control::placeholder{
  color: rgba(255,255,255,0.7);
}

/* outline buttons in the navbar/modal when dark */
:root.dark .btn-outline-secondary, .dark .btn-outline-secondary{
  color: var(--text);
  border-color: rgba(255,255,255,0.08);
}

/* Improve readability of hero headings on small screens */
#hero .display-4{font-size:2.5rem}

@media(min-width:768px){
  #hero .display-4{font-size:3.5rem}
}

/* Portfolio customisations */
/* Target only card titles inside the #portfolio section */
#portfolio .card-title{
  color: var(--accent);
  font-size: 1.2rem;
}

/* Style portfolio buttons specifically (use the variation class for specificity) */
#portfolio .btn-outline-secondary{
  background-color: rgba(0,0,0,0.03);
  border-color: rgba(0,0,0,0.08);
  color: var(--text);
}
#portfolio .btn-outline-secondary:hover,
#portfolio .btn-outline-secondary:focus{
  background-color: var(--accent);
  border-color: var(--accent);
  color: #ffffff;
}

/* Ensure card text blocks are consistent height across md/lg */
#portfolio .card-text{
  min-height: 120px;
}

/* Disable the min-height on extra-large screens to avoid excessive spacing */
@media (min-width: 1200px){
  #portfolio .card-text{
    min-height: auto;
  }
}

/* Utility: sharper corners applied site-wide when needed */
.sharp-corners{
  border-radius: 0 !important;
}
.sharp-corners *{
  border-radius: 0 !important;
}

/* Custom mid-blue button used for newsletter, contact and modal */
.btn-custom{
  background-color: var(--accent) !important;
  border-color: var(--accent) !important;
  color: #ffffff !important;
}
.btn-custom:hover,
.btn-custom:focus{
  background-color: #1d6d8a !important;
  border-color: #1d6d8a !important;
  color: #ffffff !important;
}

/* Resume preview styling inside modal */
.resume-preview{
  background-color: #ffffff;
  color: #0f1724;
  padding: 1.5rem;
  border-radius: 6px;
}
.resume-preview h2{font-family: 'DM Serif Display', serif; margin-bottom:0}
.resume-preview .muted{color: #6b7280}

/* Dark mode: preview should adapt and remain readable */
.dark .resume-preview, :root.dark .resume-preview{
  background-color: rgba(0,0,0,0.55);
  color: var(--heading);
}
.dark .resume-preview .muted, :root.dark .resume-preview .muted{ color: rgba(255,255,255,0.7) }

/* small circular avatar used in the preview and PDF header */
.resume-avatar{
  width:88px;
  height:88px;
  border-radius:50%;
  background-image: url('../images/mei-wong.webp');
  background-position: center center;
  background-size: cover;
  box-shadow: 0 6px 18px rgba(16,24,40,0.25);
  border: 3px solid rgba(255,255,255,0.9);
}
.dark .resume-avatar, :root.dark .resume-avatar{ border-color: rgba(255,255,255,0.15) }

/* hero underline for name/role */
#hero h1, #hero h2{
  text-decoration: underline;
  text-decoration-color: var(--accent);
  text-decoration-thickness: 3px;
  text-underline-offset: 6px;
}

/* slightly smaller name rendered in modal preview */
.resume-name{font-size:1.6rem}
.resume-role{margin-top:0.1rem}
